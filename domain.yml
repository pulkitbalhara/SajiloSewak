version: "3.1"

intents:
  - greet
  - know_scheme
  - apply_scheme
  - select_option
  - inform

entities:
  - bullet_id
  - name
  - phone_number
  - GPU_location

slots:
  MainOption_selected:
    type: text
    influence_conversation: false
    mappings:
      - type: from_intent
        intent: know_scheme
        value: "1"
      - type: from_intent
        intent: apply_scheme
        value: "2"

  bullet_selected:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: bullet_id

  name:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: name

  phone_number:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: phone_number
  
  GPU_location:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: GPU_location

responses:
  utter_greet:
    - text: "Hello! How can I assist you today?"

  utter_options:
    - text: "You can either apply for a scheme or know more about government schemes. What would you like to do?"
      buttons:
        - title: "Know about a Scheme"
          payload: '/know_scheme'
        - title: "Apply for a Scheme"
          payload: '/apply_scheme'

  utter_list_schemes:
    - text: "Here are the schemes you can know about. Please select one:"
      buttons:
        - title: "1. Pradhan Mantri Awas Yojana"
          payload: '/select_option{"bullet_id": "1"}'
        - title: "2. Ayushman Bharat"
          payload: '/select_option{"bullet_id": "2"}'
        - title: "3. PM Kisan Yojana"
          payload: '/select_option{"bullet_id": "3"}'
        - title: "4. Startup India"
          payload: '/select_option{"bullet_id": "4"}'
        - title: "5. Mudra Loan Scheme"
          payload: '/select_option{"bullet_id": "5"}'

  utter_ask_name:
    - text: "Please provide your name."

  utter_ask_phone_number:
    - text: "Please provide your phone number."

  utter_ask_gpu_location:
    - text: "Please provide your GPU location. (e.g., Geyzing, Rimbi, Yukson, Samdong GPU)"

  utter_application_confirm:
    - text: "Your application for the {scheme_name} has been successfully submitted. We will contact you at {phone_number} soon."

  utter_scheme_details:
    - text: |
        Here are the details of the scheme:
        {scheme_name}: {details}


actions: 
  - action_fetch_scheme_details
  - action_submit_application